CREATE DATABASE docspy;

USE docspy;

CREATE TABLE patients (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(100),
    phone VARCHAR(20),
    address TEXT,
    city VARCHAR(50),
    gender VARCHAR(10),
    age INT,
    blood_group VARCHAR(5)
);

CREATE TABLE appointments (
    id INT AUTO_INCREMENT PRIMARY KEY,
    full_name VARCHAR(100),
    email VARCHAR(100),
    phone VARCHAR(20),
    service VARCHAR(50),
    preferred_date DATE,
    preferred_time TIME,
    additional_info TEXT
);


-- Table for users (both doctors and patients)
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL,
    password VARCHAR(255) NOT NULL,
    user_type ENUM('patient', 'doctor') NOT NULL,
    security_question VARCHAR(255) NOT NULL,
    security_answer VARCHAR(255) NOT NULL
);

ALTER TABLE appointments ADD payment_screenshot VARCHAR(255);
ALTER TABLE appointments ADD COLUMN meeting_link VARCHAR(255);
